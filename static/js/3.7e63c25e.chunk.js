(this["webpackJsonpreact-kabzda-1"]=this["webpackJsonpreact-kabzda-1"]||[]).push([[3],{292:function(t,e,n){t.exports={descriptionBlock:"ProfileInfo_descriptionBlock__svYZV"}},293:function(t,e,n){"use strict";var s=n(294);e.__esModule=!0,e.wrapMapToPropsConstant=function(t){return function(e,n){var s=t(e,n);function o(){return s}return o.dependsOnOwnProps=!1,o}},e.getDependsOnOwnProps=o,e.wrapMapToPropsFunc=function(t,e){return function(e,n){n.displayName;var s=function(t,e){return s.dependsOnOwnProps?s.mapToProps(t,e):s.mapToProps(t)};return s.dependsOnOwnProps=!0,s.mapToProps=function(e,n){s.mapToProps=t,s.dependsOnOwnProps=o(t);var r=s(e,n);return"function"===typeof r&&(s.mapToProps=r,s.dependsOnOwnProps=o(r),r=s(e,n)),r},s}};s(n(298));function o(t){return null!==t.dependsOnOwnProps&&void 0!==t.dependsOnOwnProps?Boolean(t.dependsOnOwnProps):1!==t.length}},294:function(t,e){t.exports=function(t){return t&&t.__esModule?t:{default:t}}},295:function(t,e,n){t.exports={postsBlock:"MyPosts_postsBlock__ADO4q",posts:"MyPosts_posts__bXlWY"}},296:function(t,e,n){t.exports={item:"Post_item__2V9hA"}},297:function(t,e,n){"use strict";e.__esModule=!0,e.whenMapStateToPropsIsFunction=o,e.whenMapStateToPropsIsMissing=r,e.default=void 0;var s=n(293);function o(t){return"function"===typeof t?(0,s.wrapMapToPropsFunc)(t,"mapStateToProps"):void 0}function r(t){return t?void 0:(0,s.wrapMapToPropsConstant)((function(){return{}}))}var u=[o,r];e.default=u},298:function(t,e,n){"use strict";var s=n(294);e.__esModule=!0,e.default=function(t,e,n){(0,o.default)(t)||(0,r.default)(n+"() in "+e+" must return a plain object. Instead received "+t+".")};var o=s(n(299)),r=s(n(300))},299:function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){if("object"!==typeof t||null===t)return!1;var e=Object.getPrototypeOf(t);if(null===e)return!0;var n=e;for(;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return e===n}},300:function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){"undefined"!==typeof console&&"function"===typeof console.error&&console.error(t);try{throw new Error(t)}catch(e){}}},301:function(t,e,n){"use strict";e.__esModule=!0,e.whenMapDispatchToPropsIsFunction=r,e.whenMapDispatchToPropsIsMissing=u,e.whenMapDispatchToPropsIsObject=c,e.default=void 0;var s=n(9),o=n(293);function r(t){return"function"===typeof t?(0,o.wrapMapToPropsFunc)(t,"mapDispatchToProps"):void 0}function u(t){return t?void 0:(0,o.wrapMapToPropsConstant)((function(t){return{dispatch:t}}))}function c(t){return t&&"object"===typeof t?(0,o.wrapMapToPropsConstant)((function(e){return(0,s.bindActionCreators)(t,e)})):void 0}var a=[r,u,c];e.default=a},303:function(t,e,n){"use strict";n.r(e);var s=n(5),o=n(1),r=n(36),u=n(37),c=n(39),a=n(38),i=n(0),p=n.n(i),d=n(292),f=n.n(d),l=n(67),j=n(129),O=function(t){var e=Object(i.useState)(!1),n=Object(j.a)(e,2),s=n[0],r=n[1],u=Object(i.useState)(t.status),c=Object(j.a)(u,2),a=c[0],p=c[1];Object(i.useEffect)((function(){p(t.status)}),[t.status]);return Object(o.jsxs)("div",{children:[!s&&Object(o.jsx)("div",{children:Object(o.jsx)("span",{onDoubleClick:function(){r(!0)},children:t.status||"-----"})}),s&&Object(o.jsx)("div",{children:Object(o.jsx)("input",{onChange:function(t){p(t.currentTarget.value)},autoFocus:!0,onBlur:function(){r(!1),t.updateStatus(a)},value:a})})]})},b=function(t){var e=t.profile,n=t.status,s=t.updateStatus;return e?Object(o.jsx)("div",{children:Object(o.jsxs)("div",{className:f.a.descriptionBlock,children:[Object(o.jsx)("img",{src:e.photos.large}),Object(o.jsx)(O,{status:n,updateStatus:s})]})}):Object(o.jsx)(l.a,{})},h=n(97),P=n(41),v=n(295),m=n.n(v),x=n(296),w=n.n(x),g=function(t){return Object(o.jsxs)("div",{className:w.a.item,children:[Object(o.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ8IMnJvj9RdyWJ3EgsWdNqQW8zdo8G2ohH5g&usqp=CAU"}),t.message,Object(o.jsxs)("div",{children:[Object(o.jsx)("span",{children:"like"})," ",t.likesCount]})]})},M=n(90),_=n(128),T=n(56),y=n(33),S=Object(T.a)(10),k=Object(_.a)({form:"profileAddNewPostForm"})((function(t){return Object(o.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(o.jsx)("div",{children:Object(o.jsx)(M.a,{name:"newPostText",component:y.b,placeholder:"Post message",validate:[T.b,S]})}),Object(o.jsx)("div",{children:Object(o.jsx)("button",{children:"Add post"})})]})})),C=p.a.memo((function(t){var e=Object(P.a)(t.posts).reverse().map((function(t){return Object(o.jsx)(g,{message:t.message,likesCount:t.likesCount})}));return Object(o.jsxs)("div",{className:m.a.postsBlock,children:[Object(o.jsx)("h3",{children:"My posts"}),Object(o.jsx)(k,{onSubmit:function(e){t.addPost(e.newPostText)}}),Object(o.jsx)("div",{className:m.a.posts,children:e})]})})),I=n(16),A=(n(297),n(301),Object(I.b)((function(t){return{posts:t.profilePage.posts,newPostText:t.profilePage.newPostText}}),(function(t){return{addPost:function(e){t(Object(h.a)(e))}}}))(C)),B=function(t){return Object(o.jsxs)("div",{children:[Object(o.jsx)(b,{profile:t.profile,status:t.status,updateStatus:t.updateStatus}),Object(o.jsx)(A,{})]})},D=n(11),N=n(9),F=function(t){Object(c.a)(n,t);var e=Object(a.a)(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var t=this.props.match.params.userId;t||(t=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(t),this.props.getStatus(t)}},{key:"render",value:function(){return Object(o.jsx)(B,Object(s.a)(Object(s.a)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))}}]),n}(p.a.Component);e.default=Object(N.compose)(Object(I.b)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.userId,isAuth:t.auth.isAuth}}),{getUserProfile:h.d,getStatus:h.c,updateStatus:h.e}),D.f)(F)}}]);
//# sourceMappingURL=3.7e63c25e.chunk.js.map